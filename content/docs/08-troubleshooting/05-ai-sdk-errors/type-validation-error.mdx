---
title: TypeValidationError
description: Error thrown when type validation fails for a generated value
---

# TypeValidationError

## When This Error Occurs

The `TypeValidationError` occurs when the AI SDK attempts to validate a generated value against a specified schema, and the validation fails. This typically happens in functions like `generateObject` or `streamObject` when the AI model produces data that doesn't conform to the expected structure or types defined in the schema.

## What It Means

This error indicates that there's a mismatch between the expected data structure (as defined by your schema) and the actual data generated by the AI model. It could mean that:

1. The AI model generated data in an incorrect format.
2. The schema definition might be too strict or not accurately representing the expected output.
3. There might be an edge case in the data that wasn't accounted for in the schema.

## How to Resolve It

To resolve a `TypeValidationError`, you can:

1. Review the error message to understand which part of the generated data failed validation.
2. Check your schema definition to ensure it accurately represents the expected data structure.
3. Consider relaxing certain constraints in your schema if they're too strict.
4. If the issue persists, you might need to adjust your prompt or use a different AI model that better adheres to the expected output format.

## Usage

Here's an example of how to handle a `TypeValidationError`:

```ts
import { generateObject, TypeValidationError } from 'ai';
import { z } from 'zod';

try {
  const result = await generateObject({
    model: yourModel,
    schema: z.object({
      name: z.string(),
      age: z.number(),
    }),
    prompt: 'Generate a person's information',
  });

  console.log(result.object);
} catch (error) {
  if (TypeValidationError.isInstance(error)) {
    console.error('Type validation failed:', error.message);
    console.error('Invalid value:', error.value);
    // Handle the error or provide fallback behavior
  } else {
    // Handle other types of errors
    console.error('An unexpected error occurred:', error);
  }
}
```
